<!--setting page-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings | Finance Tracker</title>
    <link rel="stylesheet" href="style.css">
    <style>
   
    h1 {
      text-align: center;
      margin-bottom: 1.5rem;
    }
    label {
      display: block;
      margin: 1rem 0 0.5rem 0;
      font-weight: bold;
    }
    select, input[type="text"], input[type="number"], input[type="checkbox"] {
      width: 100%;
      padding: 0.4rem;
      font-size: 1rem;
    }
    .toggle-switch {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    button {
      margin-top: 2rem;
      padding: 0.75rem;
      width: 100%;
      font-size: 1.1rem;
      background-color: #007bff;
      color: white;
      border: none;
      cursor: pointer;
    }
    button:hover {
      background-color: #0056b3;
    }
  </style>

</head>
<body>
    <nav class="navbar">
        <div class="logo">Finance Tracker</div>
        <div class="nav-links">
            <a href="home.html" class="nav-link">Home</a>
            <a href="expenses.html" class="nav-link">Expenses</a>
            <a href="converter.html" class="nav-link">Converter</a>
            <a href="settings.html" class="nav-link active">Settings</a>
        </div>
        <div class="profile">
            <div class="profile-pic">U</div>
            <div class="profile-dropdown">
                <div class="profile-name">User</div>
                <a href="login.html" class="logout-btn">Logout</a>
            </div>
        </div>
    </nav>

    <div class="page">
        <div class="settings-container">
            <h2>Settings</h2>
            
  <form id="settingsForm">
    <!-- Default Currency -->
    <label for="defaultCurrency">Default Currency</label>
    <select id="defaultCurrency" name="defaultCurrency" required>
      <option value="INR">INR - Indian Rupee</option>
      <option value="USD">USD - US Dollar</option>
      <option value="EUR">EUR - Euro</option>
      <option value="JPY">JPY - Japanese Yen</option>
      <option value="GBP">GBP - British Pound</option>
    </select>

    <!-- Theme Mode -->
    <label for="darkModeToggle" class="toggle-switch">
      <input type="checkbox" id="darkModeToggle" name="darkMode" />
      Enable Dark Mode
    </label>

    <!-- Monthly Budget -->
    <label for="monthlyBudget">Monthly Budget (in Default Currency)</label>
    <input type="number" id="monthlyBudget" name="monthlyBudget" min="0" placeholder="Enter your budget" />

    <!-- Date Format -->
    <label for="dateFormat">Date Format</label>
    <select id="dateFormat" name="dateFormat" required>
      <option value="DD/MM/YYYY">DD/MM/YYYY</option>
      <option value="MM/DD/YYYY">MM/DD/YYYY</option>
      <option value="YYYY-MM-DD">YYYY-MM-DD</option>
    </select>

    <!-- Notifications -->
    <label for="notificationsToggle" class="toggle-switch">
      <input type="checkbox" id="notificationsToggle" name="notifications" checked />
      Enable Notifications
    </label>

    <button type="submit">Save Changes</button>
  </form>

  <script>
    const form = document.getElementById('settingsForm');

    // Load saved settings if any
    window.onload = () => {
      const savedSettings = JSON.parse(localStorage.getItem('financeSettings'));
      if (savedSettings) {
        form.defaultCurrency.value = savedSettings.defaultCurrency || 'INR';
        form.darkMode.checked = savedSettings.darkMode || false;
        form.monthlyBudget.value = savedSettings.monthlyBudget || '';
        form.dateFormat.value = savedSettings.dateFormat || 'DD/MM/YYYY';
        form.notifications.checked = savedSettings.notifications ?? true;
        applyDarkMode(savedSettings.darkMode);
      }
    };

    // Save settings on submit
    form.addEventListener('submit', e => {
      e.preventDefault();
      const settings = {
        defaultCurrency: form.defaultCurrency.value,
        darkMode: form.darkMode.checked,
        monthlyBudget: form.monthlyBudget.value,
        dateFormat: form.dateFormat.value,
        notifications: form.notifications.checked,
      };
      localStorage.setItem('financeSettings', JSON.stringify(settings));
      applyDarkMode(settings.darkMode);
      alert('Settings saved!');
    });

    // Dark mode toggle
    function applyDarkMode(enabled) {
      if (enabled) {
        document.body.style.backgroundColor = '#121212';
        document.body.style.color = '#e0e0e0';
      } else {
        document.body.style.backgroundColor = '#f4f4f4';
        document.body.style.color = '#333';
      }
    }
  </script>
</body>
</html>